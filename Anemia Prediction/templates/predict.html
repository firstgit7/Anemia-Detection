<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Anemia Detector · Result</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <style>
    body {
      background: #f3f4f6;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      color: #111827;
    }
    .wrapper {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem 1rem;
    }
    .result-card {
      background: #ffffff;
      border-radius: 22px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.08);
      padding: 1.8rem 1.6rem;
      max-width: 960px;
      width: 100%;
      animation: slideUp .4s ease-out;
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(18px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .pill-indicator {
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0.8rem;
      border-radius: 999px;
      background: #e0f2fe;
      color: #0369a1;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: .1em;
    }
    .pill-indicator-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      margin-right: 0.4rem;
    }
    .headline {
      font-size: 1.6rem;
      font-weight: 700;
      margin-top: 0.6rem;
      margin-bottom: 0.2rem;
    }
    .subtext {
      font-size: 0.95rem;
      color: #4b5563;
    }
    .summary {
      border-radius: 18px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      padding: 1rem 1.2rem;
      margin-top: 1.2rem;
      display: flex;
      align-items: center;
    }
    .summary-icon {
      width: 52px;
      height: 52px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      margin-right: 1rem;
      background: #eef2ff;
    }
    .prob-badge {
      margin-left: auto;
      font-size: 0.82rem;
      padding: 0.35rem 0.7rem;
      border-radius: 999px;
      background: #ecfdf3;
      color: #166534;
    }
    .input-table th {
      width: 45%;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: .08em;
      color: #6b7280;
    }
    .input-table td {
      font-size: 0.9rem;
    }
    .info-box {
      font-size: 0.9rem;
      color: #4b5563;
    }
    .info-note {
      font-size: 0.8rem;
      color: #9ca3af;
    }
    .btn-main, .btn-secondary-custom {
      border-radius: 999px;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: .08em;
      padding: 0.6rem 1.3rem;
      border: none;
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
    }
    .btn-main {
      background: linear-gradient(135deg, #0ea5e9, #6366f1);
      color: white;
      box-shadow: 0 14px 35px rgba(79, 70, 229, 0.35);
    }
    .btn-main:hover {
      transform: translateY(-2px);
      box-shadow: 0 20px 45px rgba(79, 70, 229, 0.45);
    }
    .btn-secondary-custom {
      background: #ffffff;
      color: #374151;
      border: 1px solid #d1d5db;
    }
    .btn-secondary-custom:hover {
      background: #f9fafb;
      transform: translateY(-1px);
      box-shadow: 0 12px 24px rgba(15, 23, 42, 0.07);
    }
    .mini-image {
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.08);
      margin-bottom: 0.75rem;
    }
    .mini-image img {
      width: 100%;
      display: block;
      transition: transform .5s ease;
    }
    .mini-image:hover img {
      transform: scale(1.03);
    }
    @media (max-width: 767.98px) {
      .summary {
        flex-direction: column;
        align-items: flex-start;
      }
      .prob-badge {
        margin-left: 0;
        margin-top: 0.6rem;
      }
      .btn-main, .btn-secondary-custom {
        width: 100%;
        text-align: center;
        margin-bottom: 0.5rem;
      }
    }
  </style>
</head>
<body>
<div class="wrapper">
  <div class="result-card">
    <div class="d-flex justify-content-between align-items-start">
      <div>
        <div class="pill-indicator">
          <span class="pill-indicator-dot" style="background: {{ color }};"></span>
          Model result
        </div>
        <h1 class="headline" style="color: {{ color }};">{{ label }}</h1>
        <p class="subtext">
          This screen summarizes the model’s interpretation of your blood values in a simple, visual way.
        </p>
      </div>
      <img src="https://static.vecteezy.com/system/resources/previews/016/746/182/large_2x/green-check-mark-icon-symbol-logo-in-a-circle-tick-symbol-green-color-illustration-free-vector.jpg"
           class="rounded-circle d-none d-md-block"
           style="width:64px;height:64px;object-fit:cover;"
           alt="Lab icon">
    </div>

    <div class="summary">
      <div class="summary-icon" style="color: {{ color }};">
        &#128137;
      </div>
      <div>
        <p class="mb-1 font-weight-semibold">{{ description }}</p>
        <p class="mb-0" style="font-size:0.88rem;color:#6b7280;">
          Use this as a guide for discussion with a healthcare professional. It is not a confirmed diagnosis.
        </p>
      </div>
      {% if probability is not none %}
      <div class="prob-badge">
        Confidence: <strong>{{ '%.1f'|format(probability) }}%</strong>
      </div>
      {% endif %}
    </div>

    <div class="row mt-3">
      <div class="col-md-6 mb-3">
        <h6 class="text-uppercase text-muted mb-2" style="font-size:0.8rem;letter-spacing:.08em;">Your values</h6>
        <table class="table table-sm input-table mb-0">
          <tbody>
          {% for key, value in inputs.items() %}
            <tr>
              <th>{{ key }}</th>
              <td>{{ value }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
      <div class="col-md-6 mb-3">
        <div class="row">
          <div class="col-sm-6 mb-3">
            <div class="mini-image">
              <img src="https://images.pexels.com/photos/5998452/pexels-photo-5998452.jpeg?auto=compress&cs=tinysrgb&w=800"
                   alt="Blood sample illustration">
            </div>
          </div>
          <div class="col-sm-6 mb-3">
            <div class="mini-image">
              <img src="https://www.mediyaar.com/blog/test_image/content/1730184659purpose_of_anemia_test.jpg"
                   alt="Doctor consultation">
            </div>
          </div>
        </div>
        <div class="info-box">
          {% if "No Anemia" in label %}
          Your pattern looks similar to people without anemia in this dataset.
          Keep up regular checkups, stay hydrated, and follow a balanced diet rich in iron, B12, and folate.
          {% else %}
          The model sees a pattern similar to anemia cases, often driven by lower hemoglobin or altered red cell indices.
          Only a clinician can confirm the cause and decide what tests or treatment are needed.
          {% endif %}
        </div>
        <p class="info-note mt-1">
          If you feel tired, dizzy, or short of breath, or if your lab values are changing, talk to a healthcare professional soon.
        </p>
      </div>
    </div>

    <div class="d-flex flex-wrap align-items-center justify-content-between mt-3">
      <div class="mb-2">
        <form method="get" action="{{ url_for('index') }}" style="display:inline;">
          <button type="submit" class="btn-main mr-2">Check another set</button>
        </form>
        <a class="btn-secondary-custom"
           href="https://www.who.int/health-topics/anaemia"
           target="_blank" rel="noopener">
          Learn about anemia
        </a>
      </div>
      <div class="info-note text-right">
        Data is used only to generate this prediction in your current session.
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
